WindowManager:
    HomeWindow:
    MainWindow:
    SecondWindow:
    ProteinWindow:

<HomeWindow>:
    name: "home"

    GridLayout:
        cols: 2
        size: root.width, root.height

        GridLayout:
            cols: 2

            Label:
                text: "What would you like to do?"

            Button:
                text: "Find out protein identity"
                on_release:
                    app.root.current = "main"

<MainWindow>:
    name: "main"
    sequence: sequence

    GridLayout:
        cols:1
        size: root.width, root.height

        GridLayout:
            cols:2

            Label:
                text: "Paste the sequence from the FASTA file.\nInclude the header. "

            TextInput:
                id: sequence
                multinline: False

        Button:
            text:"Submit"
            on_release:
                root.btn()
                app.root.current = "second"

<SecondWindow>:
    name: "second"
    inputfasta: inputfasta

    GridLayout:
        cols:1
        size: root.width, root.height

        Label:
            text: "We will use Basic Local Alignment Search Tool (BLAST) to find out the identity of this protein.\nThe search might take a couple of minutes.\n\n Is the following sequence correct?"

        Label:
            id: inputfasta
            text: "The sequence you entered should appear here. If you don't see it, start over."

        Button:
            text: "I made an error, take me back."
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "right"

        Button:
            text: "Let's do this!"
            on_release:
                app.root.current = "protein"
                root.blastsearch()
                root.manager.transition.direction = "left"

<ProteinWindow>:
    name: "protein"
    protname: protname
    weight: weight

    GridLayout:
        cols:1
        size: root.width, root.height

        Label:
            text: "Your protein was identified!"

        Label:
            text: "The four letter PDB code is:"

        Label:
            text: "Name of the species it came from is in square brackets [  ]"

        Label:
            id: protname
            text: "Something went wrong, try again!"

        Label:
            text: "Weight of this protein is:"

        Label:
            id: weight
            text: "The weight should appear here, something went wrong"
